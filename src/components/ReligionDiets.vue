<script setup lang="ts">
import { defineProps, onMounted, ref } from 'vue'
import { Swiper, SwiperSlide } from 'swiper/vue'
import 'swiper/css'
import axios from 'axios'

interface Brand {
  id: number,
  brandName: string,
  brandDescription: string,
  brandLogo: string,
}

const props = defineProps({
  bg: {
    required: false,
    type: String,
  },
  brandName: String,
})

const ReligionDiets = ref<{religionDietName: string, id: number}[]>([])
const brand = ref<null | Brand>(null)

onMounted(() => {
  axios.get(`https://api-www.beautyid.app/brands/byname/${props.brandName}?order=ASC&page=1&take=10`)
    .then(res => {
      brand.value = res.data.data[0]
    })
  axios.get('https://api-www.beautyid.app/religiondiets?order=ASC&page=1&take=10')
    .then(res => {
      ReligionDiets.value = res.data.data
    })
})
</script>

<template>
  <section
    v-if="brand"
    id="about"
    class="religionDiets bg-img"
    :style="bg ? { backgroundImage: `url('${require(`@/assets/img/product/${bg}`)}` } : ''">
    <svg xmlns="http://www.w3.org/2000/svg" width="240" height="150" viewBox="0 0 240 150" fill="none">
      <path
        d="M76.3763 141.404C46.7474 124.652 30.1929 90.9731 39.881 56.8604C49.4751 23.1817 83.1486 -0.428118 120.584 0.00588582C159.713 0.43989 192.258 25.6121 200.629 59.3776C209.095 93.8375 191.129 125.954 163.382 141.404C158.679 136.891 159.431 131.249 159.619 125.52C169.966 116.579 174.01 105.382 171.941 92.4487C170.436 83.2478 165.639 75.6962 157.832 69.8805C139.961 81.6854 136.669 109.982 155.857 125.78C155.575 129.079 156.139 132.551 154.728 135.849C151.436 143.574 141.09 148.088 132.812 145.484C128.58 144.095 125.758 141.318 123.971 137.585C122.466 134.46 121.807 131.162 121.807 127.777C121.713 118.055 121.807 108.246 121.807 98.5248C131.966 89.5843 136.104 78.6474 134.317 65.8877C132.718 54.6036 125.852 46.7047 120.02 42.7119C102.337 54.43 98.8566 82.727 118.045 98.5248C118.045 98.6116 118.139 98.6984 118.139 98.6984C118.139 108.854 118.139 119.097 118.045 129.252C118.045 132.551 117.104 135.675 115.411 138.627C112.119 144.529 105.723 147.394 98.6685 145.918C91.4259 144.442 86.2526 140.536 84.5595 133.679C83.9011 131.162 84.1833 128.384 83.9951 125.78C94.718 116.493 98.6685 105.208 96.5051 92.1015C95.0001 83.0742 90.2031 75.6962 82.4902 69.8805C64.7128 81.5118 61.2326 109.896 80.609 125.867C80.5149 128.731 80.5149 131.769 80.1387 134.721C79.6684 137.238 78.2575 139.408 76.3763 141.404ZM119.926 36.115C141.654 49.8295 147.392 80.7306 126.698 101.042C126.698 101.129 126.698 101.216 126.698 101.216C126.698 110.59 126.698 119.965 126.792 129.339C126.792 131.943 127.545 134.46 129.05 136.804C131.119 140.102 134.223 141.752 138.362 141.665C146.169 141.578 151.718 135.589 150.778 128.211C130.273 107.812 135.822 77.1718 157.644 63.2836C179.654 77.2586 184.921 108.246 164.416 128.297C164.134 131.943 164.322 134.026 165.169 135.068C191.6 117.968 205.144 85.6782 194.233 54.3432C183.699 23.8761 151.718 2.1759 114.471 4.51953C79.3862 6.77635 50.1336 30.5598 43.2672 62.5024C36.683 93.6639 52.9554 121.44 74.7773 135.068C75.8119 132.898 75.3416 130.554 75.4357 128.384C54.5544 107.899 60.4802 76.8246 82.208 63.2836C82.3961 63.3704 82.4902 63.4572 82.6783 63.544C97.1635 74.0469 103.466 87.7615 101.208 104.688C99.9853 113.541 95.8467 121.18 89.3566 127.777C89.0744 128.037 88.8863 128.384 88.8863 128.645C88.51 132.377 89.5447 135.675 92.6487 138.366C98.5744 143.401 109.485 143.748 112.307 132.898C112.777 131.075 112.966 129.165 113.06 127.256C113.154 118.836 113.06 110.416 113.06 101.997C113.06 101.65 113.06 101.389 113.06 101.129C92.3665 80.4702 98.2922 49.7427 119.926 36.115Z"
        fill="black" />
      <path
        d="M118.704 54.9508C119.362 54.864 120.02 54.7772 120.773 54.6904C120.773 57.5549 120.773 60.1589 120.773 63.0233C123.501 61.1137 126.04 59.3777 128.674 57.5549C128.956 58.0757 129.144 58.5097 129.332 59.0305C126.416 61.0269 123.595 62.9365 120.773 64.9329C120.773 67.6237 120.773 70.2278 120.773 73.0922C124.253 70.6618 127.639 68.3182 131.119 65.8009C131.213 66.4953 131.308 66.9293 131.402 67.5369C127.827 70.0542 124.347 72.5714 120.773 75.0886C120.773 77.953 120.773 80.7307 120.773 83.7687C124.347 81.1647 127.733 78.7342 131.213 76.217C131.213 77.6058 130.931 78.4738 129.803 79.2551C126.793 81.3383 123.783 83.5083 120.773 85.7651C120.773 86.7199 120.773 87.7615 120.773 88.8031C120.114 88.8031 119.55 88.8031 118.798 88.8031C118.798 87.7615 118.798 86.7199 118.798 85.6783C117.387 84.6367 115.976 83.6819 114.659 82.7271C113.154 81.5987 111.555 80.5571 110.05 79.4286C108.545 78.387 108.545 78.387 108.545 76.3906C111.931 78.821 115.223 81.1647 118.704 83.5951C118.704 80.5571 118.704 77.7794 118.704 74.915C115.317 72.5714 111.837 70.141 108.357 67.7105C108.451 67.1897 108.545 66.6689 108.639 65.9745C112.025 68.3182 115.317 70.575 118.704 72.9186C118.704 70.141 118.704 67.5369 118.704 64.8461C116.07 62.9365 113.248 61.0269 110.426 59.0305C110.614 58.5965 110.897 58.1625 111.085 57.5549C113.624 59.3777 116.07 61.0269 118.704 62.8497C118.704 60.1589 118.704 57.7285 118.704 54.9508Z"
        fill="black" />
      <path
        d="M81.0798 91.5807C81.0798 88.8898 81.0798 86.3726 81.0798 83.6818C81.7382 83.595 82.3026 83.5082 83.0551 83.4214C83.0551 86.2858 83.0551 88.8898 83.0551 91.7543C85.7828 89.8446 88.3224 88.1086 90.9561 86.2858C91.2383 86.7198 91.4264 87.1538 91.7086 87.6746C88.7927 89.671 85.9709 91.6675 83.1491 93.5771C83.1491 96.2679 83.1491 98.8719 83.1491 101.736C86.6293 99.3059 89.9214 96.9623 93.4017 94.4451C93.4957 95.1395 93.5898 95.5735 93.7779 96.0943C90.2036 98.6115 86.7234 101.129 83.1491 103.646C83.1491 106.424 83.1491 109.288 83.1491 112.326C86.7234 109.809 90.1096 107.378 93.5898 104.774C93.5898 106.076 93.4017 106.944 92.2729 107.726C89.169 109.809 86.159 112.066 83.0551 114.322C83.0551 115.277 83.0551 116.232 83.0551 117.36C82.3966 117.36 81.7382 117.36 81.0798 117.36C81.0798 116.319 81.0798 115.277 81.0798 114.236C78.0699 112.152 75.154 109.982 72.2382 107.899C70.9213 106.944 70.8273 106.771 70.8273 105.035C74.2134 107.465 77.5055 109.809 80.9858 112.239C80.9858 109.288 80.9858 106.424 80.9858 103.559C77.5996 101.216 74.1194 98.7851 70.6392 96.3547C70.7332 95.8339 70.8273 95.3131 70.9213 94.6187C74.3075 96.9623 77.5996 99.2191 80.9858 101.65C80.9858 98.8719 80.9858 96.1811 80.9858 93.5771C78.258 91.6675 75.5303 89.7578 72.7085 87.7614C72.8966 87.3274 73.0847 86.8934 73.3669 86.2858C76.0006 88.0218 78.4461 89.671 81.0798 91.5807Z"
        fill="black" />
      <path
        d="M156.516 112.239C156.516 109.288 156.516 106.51 156.516 103.559C153.129 101.215 149.649 98.785 146.169 96.2678C146.263 95.747 146.357 95.2262 146.451 94.5318C149.837 96.8754 153.129 99.1322 156.516 101.476C156.516 98.6982 156.516 96.0942 156.516 93.4034C153.788 91.4937 151.06 89.5841 148.238 87.5877C148.426 87.1537 148.614 86.7197 148.897 86.1121C151.436 87.8481 153.882 89.5841 156.516 91.4069C156.516 88.8029 156.516 86.2857 156.516 83.5949C157.174 83.5081 157.832 83.4213 158.585 83.3345C158.585 86.1989 158.585 88.8029 158.585 91.6673C161.313 89.7577 163.852 88.0217 166.486 86.1989C166.768 86.7197 166.956 87.0669 167.144 87.5877C164.228 89.5841 161.407 91.5805 158.585 93.577C158.585 96.2678 158.585 98.8718 158.585 101.736C162.065 99.3058 165.357 96.9622 168.837 94.445C168.931 95.0526 169.12 95.5734 169.214 96.0942C165.639 98.6114 162.159 101.129 158.585 103.646C158.585 106.51 158.585 109.288 158.585 112.326C162.159 109.809 165.545 107.378 169.12 104.687C168.931 105.555 168.837 106.163 168.743 106.857C165.357 109.288 161.971 111.805 158.491 114.322C158.491 115.277 158.491 116.319 158.491 117.36C157.832 117.36 157.268 117.36 156.61 117.36C156.61 116.319 156.61 115.277 156.61 114.236C153.223 111.805 149.931 109.462 146.545 107.031C146.451 106.423 146.357 105.729 146.169 104.861C149.743 107.465 153.035 109.809 156.516 112.239Z"
        fill="black" />
    </svg>
    <h2 class="title-secondary bold">{{brandName}}</h2>
    <p class="txt">
      {{ brand.brandDescription }}
    </p>
    <swiper
      slides-per-view="auto"
      :space-between="20">
      <swiper-slide class="carousel-item" v-for="icon in ReligionDiets" :key="icon.id">
        <div>
          <div class="icon">
            <svg width="34" height="32" viewBox="0 0 34 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12.6106 21.2084C11.5039 19.8967 10.9565 18.4122 11.0442 16.7259C11.1163 15.3769 11.5988 14.1825 12.4729 13.1619C14.174 11.1593 16.9918 10.5263 19.3895 11.6177C20.746 12.2358 21.7544 13.2294 22.3956 14.5888C23.0463 15.9482 23.1461 17.3649 22.7711 18.8485C23.142 18.8489 23.4842 18.8396 23.8266 18.8496C24.2737 18.8693 24.7304 18.8891 25.1777 18.9281C25.5965 18.9671 25.8658 19.2757 25.8603 19.6708C25.8548 20.0755 25.5345 20.3739 25.1065 20.3638C24.5454 20.3536 23.9933 20.2952 23.4322 20.2946C20.6462 20.311 17.9514 20.8864 15.3261 21.7509C12.8903 22.5482 10.5616 23.5961 8.48491 25.1261C7.82419 25.6169 7.24071 26.2234 6.61862 26.772C6.49606 26.8779 6.3737 27.003 6.22213 27.0607C5.9286 27.1857 5.58492 27.0504 5.41105 26.7804C5.21797 26.4911 5.24331 26.1731 5.48765 25.8843C6.23009 25.0081 7.1168 24.296 8.06114 23.6417C9.33609 22.7661 10.6887 22.0448 12.0993 21.4295C12.2604 21.3719 12.4213 21.295 12.6106 21.2084ZM16.9548 12.5306C15.1101 12.5287 13.4668 13.6544 12.7804 15.3786C12.0941 17.1124 12.5132 19.0787 13.8294 20.4195C14.0024 20.6028 14.1547 20.6222 14.3821 20.5454C16.4667 19.8055 18.6106 19.2874 20.814 19.0199C21.1464 18.9817 21.2782 18.8469 21.3608 18.5483C22.2628 15.5716 20.0453 12.5338 16.9548 12.5306Z"
                fill="black" />
              <path
                d="M19.5621 22.8857C20.0377 22.9246 20.4847 22.9443 20.9319 22.9929C21.3696 23.0415 21.6484 23.3596 21.6239 23.764C21.5995 24.1781 21.2509 24.4859 20.8131 24.4277C16.6347 23.8555 10.54 26.5364 7.69024 29.5768C7.33278 29.9521 7.01382 30.3755 6.69477 30.7893C6.38502 31.1838 5.96794 31.299 5.62317 31.0386C5.27839 30.7783 5.23635 30.3738 5.52679 29.9503C6.66975 28.2757 8.20664 27.0253 9.89772 25.9869C12.3634 24.4677 15.005 23.4302 17.8811 23.0285C18.4411 22.9424 19.0112 22.9236 19.5621 22.8857Z"
                fill="black" />
              <path
                d="M17.6204 5.45459C17.6325 6.7192 17.6447 7.98381 17.6568 9.24842C17.6611 9.70214 17.3874 10.0012 16.9869 10.0203C16.6054 10.0297 16.2977 9.76891 16.2463 9.38274C16.2362 9.32482 16.2356 9.26689 16.235 9.19932C16.2109 6.6894 16.187 4.18914 16.1629 1.67922C16.1585 1.21585 16.3751 0.926372 16.7466 0.86867C17.2228 0.791723 17.5789 1.12015 17.5841 1.66075C17.5962 2.92536 17.6083 4.18997 17.6204 5.45459Z"
                fill="black" />
              <path
                d="M5.53886 17.8615C4.35154 17.8608 3.17372 17.8601 1.9864 17.8594C1.84392 17.8593 1.70144 17.8593 1.55869 17.8303C1.24459 17.7629 1.02345 17.484 1.01082 17.1571C0.998284 16.8399 1.2043 16.5325 1.50752 16.4557C1.65913 16.4174 1.81111 16.4175 1.96308 16.4176C4.31872 16.419 6.67436 16.4203 9.03 16.4217C9.0395 16.4217 9.049 16.4217 9.068 16.4218C9.676 16.4317 10.0204 16.6915 10.0248 17.1433C10.0292 17.6046 9.69922 17.864 9.08182 17.8636C7.91349 17.8629 6.72618 17.8622 5.53886 17.8615Z"
                fill="black" />
              <path
                d="M28.514 17.8616C27.2697 17.8608 26.0254 17.8697 24.7905 17.8594C24.1921 17.859 23.8359 17.359 24.059 16.8496C24.1798 16.571 24.4064 16.4269 24.7008 16.4271C27.2369 16.4286 29.7635 16.4205 32.2998 16.4412C32.7272 16.4414 33.0057 16.7588 33.0095 17.1529C33.0133 17.5566 32.7218 17.8641 32.2849 17.8638C31.0216 17.8631 29.7678 17.8623 28.514 17.8616Z"
                fill="black" />
              <path
                d="M6.18677 5.40973C6.29198 5.46768 6.50193 5.53538 6.64606 5.68013C8.4332 7.46537 10.2108 9.2506 11.9885 11.0455C12.3152 11.3736 12.3387 11.817 12.0563 12.1059C11.7739 12.4044 11.3459 12.404 11.0096 12.0759C9.21289 10.281 7.42556 8.47648 5.63833 6.6816C5.40771 6.45 5.3194 6.17999 5.43986 5.86201C5.56062 5.57294 5.77804 5.43822 6.18677 5.40973Z"
                fill="black" />
              <path
                d="M28.5252 6.09093C28.385 6.34141 28.3205 6.54377 28.1887 6.67859C26.4471 8.47935 24.6958 10.2705 22.9351 12.0616C22.6055 12.389 22.187 12.3982 21.8892 12.099C21.6008 11.7999 21.606 11.3661 21.9261 11.0387C23.6678 9.24759 25.4096 7.4661 27.1513 5.67498C27.3961 5.4246 27.6899 5.31888 27.9865 5.49271C28.1971 5.61824 28.3328 5.87866 28.5252 6.09093Z"
                fill="black" />
              <path
                d="M15.8414 28.3092C14.084 28.4327 12.5596 29.0476 11.4042 30.4335C11.1036 30.7992 10.791 30.9049 10.447 30.7312C10.1508 30.5767 9.98593 30.2491 10.0776 29.9121C10.1143 29.7772 10.1891 29.6521 10.2735 29.5366C11.1931 28.3335 12.4411 27.6509 13.8339 27.1899C14.5635 26.9498 15.3227 26.8254 16.1029 26.8936C16.6453 26.9423 16.9428 27.2315 16.9094 27.6939C16.8758 28.1369 16.5454 28.3677 16.0127 28.3287C15.965 28.319 15.9079 28.3093 15.8414 28.3092Z"
                fill="black" />
              <path
                d="M14.6145 9.8769C14.6091 10.282 14.393 10.5711 14.0892 10.648C13.7663 10.7248 13.4318 10.5895 13.2763 10.271C13.1014 9.91396 12.955 9.54729 12.799 9.18061C12.4579 8.38936 12.1073 7.58845 11.7662 6.7972C11.5615 6.31473 11.6907 5.90976 12.0793 5.73653C12.4773 5.56332 12.8504 5.74696 13.0647 6.23908C13.5516 7.33913 14.0291 8.44881 14.5066 9.54885C14.5649 9.6743 14.5949 9.81901 14.6145 9.8769Z"
                fill="black" />
              <path
                d="M10.551 14.2243C10.5376 14.7926 10.0654 15.1003 9.55965 14.9072C8.94894 14.6754 8.34745 14.4147 7.73665 14.1733C7.20218 13.9609 6.67722 13.7484 6.14275 13.536C5.68453 13.3429 5.49056 12.9574 5.63872 12.5626C5.78678 12.1582 6.18451 12.0045 6.64264 12.188C7.7689 12.6418 8.89516 13.0957 10.0214 13.5495C10.346 13.6847 10.5479 13.9161 10.551 14.2243Z"
                fill="black" />
              <path
                d="M21.8706 6.3272C21.8429 6.41398 21.8157 6.54899 21.7599 6.68397C21.3426 7.7928 20.9252 8.89198 20.4984 10.0008C20.3034 10.4925 19.9437 10.6947 19.5423 10.54C19.1313 10.3756 18.9845 9.97035 19.1605 9.48825C19.5871 8.35049 20.0231 7.21275 20.4687 6.07501C20.6265 5.67005 20.9389 5.49674 21.3014 5.57427C21.6259 5.65176 21.8667 5.93172 21.8706 6.3272Z"
                fill="black" />
              <path
                d="M28.2138 12.7018C28.1292 12.798 27.9989 13.0772 27.7908 13.1733C26.6458 13.7116 25.491 14.2114 24.3266 14.7015C23.929 14.8648 23.5278 14.6814 23.3816 14.3152C23.2353 13.949 23.3741 13.5638 23.7526 13.3908C24.9072 12.8718 26.0525 12.3624 27.2169 11.8723C27.728 11.6513 28.2163 11.9986 28.2138 12.7018Z"
                fill="black" />
              <path
                d="M5.80679 21.5986C5.89139 21.5024 6.02169 21.2232 6.23938 21.1271C7.3749 20.5984 8.5203 20.1083 9.66561 19.6085C10.0632 19.4355 10.464 19.5901 10.6292 19.9563C10.8042 20.3418 10.6561 20.7462 10.2303 20.9384C9.10407 21.4478 7.96827 21.9476 6.83228 22.4281C6.30212 22.6491 5.7948 22.3018 5.80679 21.5986Z"
                fill="black" />
            </svg>
          </div>
          <p>{{ icon.religionDietName }}</p>
        </div>
      </swiper-slide>
    </swiper>
    <!-- <div class="tablet pagination">
      <button v-for="(icon, idx) in 10" :key="icon" @click="currentIcon = idx"
        :class="{ active: currentIcon === idx }"></button>
    </div> -->
  </section>
</template>

<style lang="scss" scoped>

.religionDiets {
  padding: 60px 40px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  > svg {
    width: max-content;
    margin: 0 auto;
  }

  p {
    text-align: left;
    font-size: 24px;
    padding: 50px 0;
    max-width: 1000px;
    margin: 0 auto;

    @media (max-width: 768px) {
      padding: 20px 0;
    }
  }
  .swiper {
    width: 100%;
    max-width: 650px;

    .swiper-wrapper {
      align-items: center;
    }
    .swiper-slide {
      width: max-content;

      p {
        padding: 10px 0;
        text-transform: uppercase;
        font-weight: 700;
        text-align: center;
        font-size: 14px;
      }
    }
  }
  .pagination {
    display: none;

    @media (max-width: 768px) {
      display: flex;
    }
  }

  .icon {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    border-radius: 50%;
    border: 1px solid $black;
    display: flex;
    justify-content: center;
    align-items: center;

    @media (max-width: 1200px) {
      width: 50px;
      height: 50px;
    }
  }

  @media (max-width: 768px) {
    padding: 40px 20px;

    > svg {
      height: auto;
      width: 100px;
    }
  }
}

</style>
