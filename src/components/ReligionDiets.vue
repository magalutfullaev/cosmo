<script setup lang="ts">
import { defineProps, onMounted, ref } from 'vue'
import { Swiper, SwiperSlide } from 'swiper/vue'
import 'swiper/css'
import axios from 'axios'

interface Brand {
  id: number,
  brandName: string,
  brandDescription: string,
  brandLogo: string,
  SEOlogoAlt: string,
}

const props = defineProps({
  bg: {
    required: false,
    type: String,
  },
  brandName: String,
})

const ReligionDiets = ref<{religionDietName: string, id: number}[]>([])
const brand = ref<null | Brand>(null)

onMounted(() => {
  axios.get(`https://api-www.beautyid.app/brands/byname/${props.brandName}?order=ASC&page=1&take=10`)
    .then(res => {
      brand.value = res.data.data[0]
    })
  axios.get('https://api-www.beautyid.app/religiondiets?order=ASC&page=1&take=10')
    .then(res => {
      ReligionDiets.value = res.data.data
    })
})
</script>

<template>
  <section
    v-if="brand"
    id="about"
    class="religionDiets bg-img"
    :style="bg ? { backgroundImage: `url('${require(`@/assets/img/product/${bg}`)}` } : ''">
    <img v-if="brand.brandLogo" :src="`https://api-www.beautyid.app/images/getimage/${brand.brandLogo}`" :alt="brand.SEOlogoAlt">
    <h2 class="title-secondary bold">{{brandName}}</h2>
    <p class="txt" v-if="brand.brandDescription">
      {{ brand.brandDescription }}
    </p>
    <swiper
      slides-per-view="auto"
      :space-between="20">
      <swiper-slide class="carousel-item" v-for="icon in ReligionDiets" :key="icon.id">
        <div>
          <div class="icon">
            <svg width="34" height="32" viewBox="0 0 34 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12.6106 21.2084C11.5039 19.8967 10.9565 18.4122 11.0442 16.7259C11.1163 15.3769 11.5988 14.1825 12.4729 13.1619C14.174 11.1593 16.9918 10.5263 19.3895 11.6177C20.746 12.2358 21.7544 13.2294 22.3956 14.5888C23.0463 15.9482 23.1461 17.3649 22.7711 18.8485C23.142 18.8489 23.4842 18.8396 23.8266 18.8496C24.2737 18.8693 24.7304 18.8891 25.1777 18.9281C25.5965 18.9671 25.8658 19.2757 25.8603 19.6708C25.8548 20.0755 25.5345 20.3739 25.1065 20.3638C24.5454 20.3536 23.9933 20.2952 23.4322 20.2946C20.6462 20.311 17.9514 20.8864 15.3261 21.7509C12.8903 22.5482 10.5616 23.5961 8.48491 25.1261C7.82419 25.6169 7.24071 26.2234 6.61862 26.772C6.49606 26.8779 6.3737 27.003 6.22213 27.0607C5.9286 27.1857 5.58492 27.0504 5.41105 26.7804C5.21797 26.4911 5.24331 26.1731 5.48765 25.8843C6.23009 25.0081 7.1168 24.296 8.06114 23.6417C9.33609 22.7661 10.6887 22.0448 12.0993 21.4295C12.2604 21.3719 12.4213 21.295 12.6106 21.2084ZM16.9548 12.5306C15.1101 12.5287 13.4668 13.6544 12.7804 15.3786C12.0941 17.1124 12.5132 19.0787 13.8294 20.4195C14.0024 20.6028 14.1547 20.6222 14.3821 20.5454C16.4667 19.8055 18.6106 19.2874 20.814 19.0199C21.1464 18.9817 21.2782 18.8469 21.3608 18.5483C22.2628 15.5716 20.0453 12.5338 16.9548 12.5306Z"
                fill="black" />
              <path
                d="M19.5621 22.8857C20.0377 22.9246 20.4847 22.9443 20.9319 22.9929C21.3696 23.0415 21.6484 23.3596 21.6239 23.764C21.5995 24.1781 21.2509 24.4859 20.8131 24.4277C16.6347 23.8555 10.54 26.5364 7.69024 29.5768C7.33278 29.9521 7.01382 30.3755 6.69477 30.7893C6.38502 31.1838 5.96794 31.299 5.62317 31.0386C5.27839 30.7783 5.23635 30.3738 5.52679 29.9503C6.66975 28.2757 8.20664 27.0253 9.89772 25.9869C12.3634 24.4677 15.005 23.4302 17.8811 23.0285C18.4411 22.9424 19.0112 22.9236 19.5621 22.8857Z"
                fill="black" />
              <path
                d="M17.6204 5.45459C17.6325 6.7192 17.6447 7.98381 17.6568 9.24842C17.6611 9.70214 17.3874 10.0012 16.9869 10.0203C16.6054 10.0297 16.2977 9.76891 16.2463 9.38274C16.2362 9.32482 16.2356 9.26689 16.235 9.19932C16.2109 6.6894 16.187 4.18914 16.1629 1.67922C16.1585 1.21585 16.3751 0.926372 16.7466 0.86867C17.2228 0.791723 17.5789 1.12015 17.5841 1.66075C17.5962 2.92536 17.6083 4.18997 17.6204 5.45459Z"
                fill="black" />
              <path
                d="M5.53886 17.8615C4.35154 17.8608 3.17372 17.8601 1.9864 17.8594C1.84392 17.8593 1.70144 17.8593 1.55869 17.8303C1.24459 17.7629 1.02345 17.484 1.01082 17.1571C0.998284 16.8399 1.2043 16.5325 1.50752 16.4557C1.65913 16.4174 1.81111 16.4175 1.96308 16.4176C4.31872 16.419 6.67436 16.4203 9.03 16.4217C9.0395 16.4217 9.049 16.4217 9.068 16.4218C9.676 16.4317 10.0204 16.6915 10.0248 17.1433C10.0292 17.6046 9.69922 17.864 9.08182 17.8636C7.91349 17.8629 6.72618 17.8622 5.53886 17.8615Z"
                fill="black" />
              <path
                d="M28.514 17.8616C27.2697 17.8608 26.0254 17.8697 24.7905 17.8594C24.1921 17.859 23.8359 17.359 24.059 16.8496C24.1798 16.571 24.4064 16.4269 24.7008 16.4271C27.2369 16.4286 29.7635 16.4205 32.2998 16.4412C32.7272 16.4414 33.0057 16.7588 33.0095 17.1529C33.0133 17.5566 32.7218 17.8641 32.2849 17.8638C31.0216 17.8631 29.7678 17.8623 28.514 17.8616Z"
                fill="black" />
              <path
                d="M6.18677 5.40973C6.29198 5.46768 6.50193 5.53538 6.64606 5.68013C8.4332 7.46537 10.2108 9.2506 11.9885 11.0455C12.3152 11.3736 12.3387 11.817 12.0563 12.1059C11.7739 12.4044 11.3459 12.404 11.0096 12.0759C9.21289 10.281 7.42556 8.47648 5.63833 6.6816C5.40771 6.45 5.3194 6.17999 5.43986 5.86201C5.56062 5.57294 5.77804 5.43822 6.18677 5.40973Z"
                fill="black" />
              <path
                d="M28.5252 6.09093C28.385 6.34141 28.3205 6.54377 28.1887 6.67859C26.4471 8.47935 24.6958 10.2705 22.9351 12.0616C22.6055 12.389 22.187 12.3982 21.8892 12.099C21.6008 11.7999 21.606 11.3661 21.9261 11.0387C23.6678 9.24759 25.4096 7.4661 27.1513 5.67498C27.3961 5.4246 27.6899 5.31888 27.9865 5.49271C28.1971 5.61824 28.3328 5.87866 28.5252 6.09093Z"
                fill="black" />
              <path
                d="M15.8414 28.3092C14.084 28.4327 12.5596 29.0476 11.4042 30.4335C11.1036 30.7992 10.791 30.9049 10.447 30.7312C10.1508 30.5767 9.98593 30.2491 10.0776 29.9121C10.1143 29.7772 10.1891 29.6521 10.2735 29.5366C11.1931 28.3335 12.4411 27.6509 13.8339 27.1899C14.5635 26.9498 15.3227 26.8254 16.1029 26.8936C16.6453 26.9423 16.9428 27.2315 16.9094 27.6939C16.8758 28.1369 16.5454 28.3677 16.0127 28.3287C15.965 28.319 15.9079 28.3093 15.8414 28.3092Z"
                fill="black" />
              <path
                d="M14.6145 9.8769C14.6091 10.282 14.393 10.5711 14.0892 10.648C13.7663 10.7248 13.4318 10.5895 13.2763 10.271C13.1014 9.91396 12.955 9.54729 12.799 9.18061C12.4579 8.38936 12.1073 7.58845 11.7662 6.7972C11.5615 6.31473 11.6907 5.90976 12.0793 5.73653C12.4773 5.56332 12.8504 5.74696 13.0647 6.23908C13.5516 7.33913 14.0291 8.44881 14.5066 9.54885C14.5649 9.6743 14.5949 9.81901 14.6145 9.8769Z"
                fill="black" />
              <path
                d="M10.551 14.2243C10.5376 14.7926 10.0654 15.1003 9.55965 14.9072C8.94894 14.6754 8.34745 14.4147 7.73665 14.1733C7.20218 13.9609 6.67722 13.7484 6.14275 13.536C5.68453 13.3429 5.49056 12.9574 5.63872 12.5626C5.78678 12.1582 6.18451 12.0045 6.64264 12.188C7.7689 12.6418 8.89516 13.0957 10.0214 13.5495C10.346 13.6847 10.5479 13.9161 10.551 14.2243Z"
                fill="black" />
              <path
                d="M21.8706 6.3272C21.8429 6.41398 21.8157 6.54899 21.7599 6.68397C21.3426 7.7928 20.9252 8.89198 20.4984 10.0008C20.3034 10.4925 19.9437 10.6947 19.5423 10.54C19.1313 10.3756 18.9845 9.97035 19.1605 9.48825C19.5871 8.35049 20.0231 7.21275 20.4687 6.07501C20.6265 5.67005 20.9389 5.49674 21.3014 5.57427C21.6259 5.65176 21.8667 5.93172 21.8706 6.3272Z"
                fill="black" />
              <path
                d="M28.2138 12.7018C28.1292 12.798 27.9989 13.0772 27.7908 13.1733C26.6458 13.7116 25.491 14.2114 24.3266 14.7015C23.929 14.8648 23.5278 14.6814 23.3816 14.3152C23.2353 13.949 23.3741 13.5638 23.7526 13.3908C24.9072 12.8718 26.0525 12.3624 27.2169 11.8723C27.728 11.6513 28.2163 11.9986 28.2138 12.7018Z"
                fill="black" />
              <path
                d="M5.80679 21.5986C5.89139 21.5024 6.02169 21.2232 6.23938 21.1271C7.3749 20.5984 8.5203 20.1083 9.66561 19.6085C10.0632 19.4355 10.464 19.5901 10.6292 19.9563C10.8042 20.3418 10.6561 20.7462 10.2303 20.9384C9.10407 21.4478 7.96827 21.9476 6.83228 22.4281C6.30212 22.6491 5.7948 22.3018 5.80679 21.5986Z"
                fill="black" />
            </svg>
          </div>
          <p>{{ icon.religionDietName }}</p>
        </div>
      </swiper-slide>
    </swiper>
    <!-- <div class="tablet pagination">
      <button v-for="(icon, idx) in 10" :key="icon" @click="currentIcon = idx"
        :class="{ active: currentIcon === idx }"></button>
    </div> -->
  </section>
</template>

<style lang="scss" scoped>

.religionDiets {
  padding: 60px 40px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  > img {
    max-width: 150px;
    max-height: 150px;
    margin: 0 auto;
  }

  h2 {
    padding-bottom: 20px;
  }
  p {
    text-align: left;
    font-size: 24px;
    padding-bottom: 50px;
    max-width: 1000px;
    margin: 0 auto;

    @media (max-width: 768px) {
      padding: 20px 0;
    }
  }
  .swiper {
    width: 100%;
    max-width: 650px;

    .swiper-wrapper {
      align-items: center;
    }
    .swiper-slide {
      width: max-content;

      p {
        padding: 10px 0;
        text-transform: uppercase;
        font-weight: 700;
        text-align: center;
        font-size: 14px;
      }
    }
  }
  .pagination {
    display: none;

    @media (max-width: 768px) {
      display: flex;
    }
  }

  .icon {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    border-radius: 50%;
    border: 1px solid $black;
    display: flex;
    justify-content: center;
    align-items: center;

    @media (max-width: 1200px) {
      width: 50px;
      height: 50px;
    }
  }

  @media (max-width: 768px) {
    padding: 40px 20px;

    > img {
      max-width: 100px;
      max-height: 100px;
    }
  }
}

</style>
